// Automatically generated by PRGA's RTL generator
{% set width = module.ports.in|length -%}
`timescale 1ns/1ps
module {{ module.name }} (
    input wire [{{ width - 1 }}:0] in
    , output reg [0:0] out

    , input wire [0:0] prog_done
    , input wire [{{ 2 ** width }}:0] prog_data
        // prog_data[ 0 +: {{ 2 ** width - 1}}]: LUT content
        // prog_data[{{ 2 ** width }}]: LUT enabled (not disabled)
    );

    localparam  IDX_LUT_ENABLE = {{ 2 ** width }};

    always @* begin
        if (~prog_done || ~prog_data[IDX_LUT_ENABLE]) begin
            out = 1'b0;
        end else begin
            case (in)
                {%- for i in range(2 ** width) %}
                {{ width }}'d{{ i }}: out = prog_data[{{ i }}];
                {%- endfor %}
            endcase
        end
    end

endmodule
