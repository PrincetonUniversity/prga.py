// Automatically generated by PRGA's RTL generator
{%- set cfg_width = module.ports.cfg_i|length %}
`timescale 1ns/1ps
module fraclut6 (
    // user accessible ports
    input wire [5:0] in,
    output reg [0:0] o5,
    output reg [0:0] o6,

    // configuartion ports
    input wire [0:0] cfg_clk,
    input wire [0:0] cfg_e,
    input wire [0:0] cfg_we,
    input wire [{{ cfg_width - 1 }}:0] cfg_i,
    output wire [{{ cfg_width - 1 }}:0] cfg_o
    );

    reg [64:0] cfg_d;
    reg [5:0] internal_in;
    reg lut5A_out;

    // synopsys translate_off
    // in case the sensitivity list is never triggered
    initial begin
        internal_in = 6'b0;
    end
    // synopsys translate_on

    always @* begin
        internal_in = in;

        // synopsys translate_off
        // in simulation, force unconnected LUT input to be zeros
        {%- for i in range(6) %}
        if (in[{{ i }}] === 1'bx) begin
            internal_in[{{ i }}] = 1'b0;
        end
        {%- endfor %}
        // synopsys translate_on
    end

    always @* begin
        if (cfg_e) begin    // avoid pre-programming oscillation
            o5 = 1'b0;
            lut5A_out = 1'b0;
            o6 = 1'b0;
        end else begin
            case (internal_in[4:0])     // synopsys infer_mux
                {%- for i in range(32) %}
                5'd{{ i }}: begin
                    lut5A_out = cfg_d[{{ i }}];
                    o5 = cfg_d[{{ 32 + i }}];
                end
                {%- endfor %}
            endcase

            if (cfg_d[64]) begin
                case (internal_in[5])   // synopsys infer_mux
                    1'b0: o6 = lut5A_out;
                    1'b1: o6 = o5;
                endcase
            end else begin
                o6 = lut5A_out;
            end
        end
    end

    wire [{{ 64 + cfg_width }}:0] cfg_d_next;

    always @(posedge cfg_clk) begin
        if (cfg_e && cfg_we) begin
            cfg_d <= cfg_d_next;
        end
    end

    assign cfg_d_next = {{ '{' -}} cfg_d, cfg_i {{- '}' }};
    assign cfg_o = cfg_d_next[{{ 64 + cfg_width }} -: {{ cfg_width }}];

endmodule
